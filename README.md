# 英語学習サポートアプリ - 要件定義

## 1. 目的
英語学習を進めるうえでネックに感じていた部分を解消できるアプリを開発する。

## 2. ターゲット
- 日本人英語学習者

## 3. 機能要件
**翻訳機能**: 日本語と英語の相互翻訳  
**単語帳機能**: 翻訳結果を保存し、後から確認できる  
**学習機能**: 単語を一覧表示 & クイズ形式で学習可能  

## 4. 非機能要件
- **ユーザー認証**: Next.js Authentication を使用  
- **翻訳 API**: DeepL API（無料プラン）  

## 5. 技術選定
| 項目          | 採用技術 |
|--------------|---------|
| **フロントエンド & バックエンド** | Next.js + TypeScript / TailwindCSS + shadcn|
| **データベース** | PostgreSQL (Prisma 経由) |
| **インフラ** | Vercel (開発、デプロイ) / Supabase (Baas) / GitHub (ソースコード管理) |
| **外部 API** | DeepL API (無料プラン) |

# 開発の流れ
## 1. 必要なページの整理
## 2. 各ページの実装
### 2.1 ホームページの作成  
ヘッダーおよびフッターは全てのページに表示する。CSSフレームワークとしてTailwindCSSとshadcnを使用。0から作ると配色なども自分で考えなければならず、時間がかかった。また、VercelからPostgreSQLを使うにはSupabaseを利用する必要があったためこのタイミングで接続を確認。
### 2.2 翻訳ページの作成
最初にレイアウトを作り、その後翻訳機能を実装、適宜リファクタリングしコンポーネントに分離する方針で作成  
#### 2.2.1 翻訳ページのヘッダーを作成
日英翻訳と英日翻訳を切り替えるためのボタンを実装、その後コンポーネントに分離
#### 2.2.2 翻訳するテキストを入力する入力欄を作成
入力欄にはshadcnの`Textarea`コンポーネントを使用。翻訳するテキストを送信するボタン等を置くエリアも作成。
#### 2.2.3 DeepLAPIを用いた翻訳機能の実装
Next.jsのAPIRouteを利用して実装。DeepLAPIの操作は`deepl-node`モジュールを利用。テキスト入力欄と送信ボタンのエリアをそれぞれコンポーネントに分離するにあたって、入力欄の値、翻訳の方向の管理、翻訳後のテキストをそれぞれ保持するstateが複数のコンポーネントに分散してきたため`useContext`を利用
### 2.3 ログインページ及びサインインページの作成
最初にログインページのレイアウトを作成。送信フォームには`shadcn/ui`のコンポーネントを利用。
#### 2.2.1 ORMの導入(Prisma)
Vercel上で設定したSupabaseのPostgreSQLにPrismaから接続。
#### 2.2.2 認証機能の実装
NextAuth.jsのCredentials認証を利用。
